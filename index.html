<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/minisearch@7.1.1/dist/umd/index.min.js"></script>

<!DOCTYPE html>
<html>
<head>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Моя первая собственная веб-страница</title>
<style>
   @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@200;500&display=swap');

  *{
        margin:0;
        padding:0;
        box-sizing:border-box;
    }
    body{
        font-family:'Montserrat',sans-serif;
        font-weight:200;
        color:var(--tg-theme-text-color);
        background: var(--tg-theme-hint-color);

    }
    #main{
        width:100%;
        padding:20px;
        text-align:center;
    }
    h1{
        margin-top:50px;
        margin-bottom:10px;
    }
    button{
    border:0;
    border-radius:5px;
    margin-top:50px;
    height:60px;
    width:200px;
    font-size:20px;
    font-weight:500;
    cursor:pointer;
    transition:all 500ms ease;
    color:var(--tg-theme-button-color);
    background: var(--tg-theme-button-text-color);

    }
    button:hover{
    background: var(--tg-theme-secondary-text-color);
    }
    #form {
        display:none;
        text-align:center;
    }
</style>
</head>
<body>
   
 <div id="app">
      <div class="App">
        <div class="Loader">loading...</div>
        <article class="main">
          <header class="Header">
            <h1>Song Search</h1>
            <div class="SearchBox">
              <div class="Search">
                <input type="text" autoComplete="none" autoCorrect="none" autoCapitalize="none" spellCheck="false" />
                <button class="clear">&times;</button>
              </div>

              <ul class="SuggestionList">
              </ul>

              <details class="AdvancedOptions">
                <summary>Advanced options</summary>
                <form class="options">
                  <div>
                    <b>Search in fields:</b>
                    <label>
                      <input type="checkbox" name="fields" value="title" checked />
                      Title
                    </label>
                    <label>
                      <input type="checkbox" name="fields" value="artist" checked />
                      Artist
                    </label>
                  </div>
                  <div>
                    <b>Search options:</b>
                    <label><input type="checkbox" name="prefix" value="true" checked /> Prefix</label>
                    <label><input type="checkbox" name="fuzzy" value="true" checked /> Fuzzy</label>
                  </div>
                  <div>
                    <b>Combine terms with:</b>
                    <label><input type="radio" name="combineWith" value="OR" checked /> OR</label>
                    <label><input type="radio" name="combineWith" value="AND" /> AND</label>
                  </div>
                  <div>
                    <b>Filter:</b>
                    <label>
                      from year:
                      <select name="fromYear">
                        <!-- populated by JS with list of years -->
                      </select>
                    </label>
                    <label>
                      to year:
                      <select name="toYear">
                        <!-- populated by JS with list of years -->
                      </select>
                    </label>
                    <script type="text/javascript">
                      const populateYears = (selector, minYear, maxYear, selectedYear) => {
                        document.querySelector(selector).innerHTML = 
                          Array.from({ length: maxYear - minYear + 1 }, (_, i) => i + minYear)
                          .map(y => `<option value="${y}" ${y === selectedYear ? 'selected' : ''}>${y}</option>`)
                          .join('\n')
                      }

                      populateYears('select[name=fromYear]', 1965, 2015, 1965)
                      populateYears('select[name=toYear]', 1965, 2015, 2015)
                    </script>
                  </div>
                </form>
              </details>
            </div>
          </header>
          <p class="Explanation">
            This is a demo of the <a
              href="https://github.com/lucaong/minisearch">MiniSearch</a> JavaScript
            library: try searching through more than 5000 top songs and artists
            in <em>Billboard Hot 100</em> from year 1965 to 2015. This example
            demonstrates search (with prefix and fuzzy match) and auto-completion.
          </p>
          <ul class="SongList">
          </ul>
        </article>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/minisearch@7.1.0/dist/umd/index.min.js"></script>
    <script src="app.js" type="text/javascript"></script>	


	
	
	
	<div id = 'main'>
        <h1>Добро пожаловать на мою первую веб-страницу!</h1>
        <p>Это пример простого HTML-документа.</p>
        <button id = 'buy'> Действие </button>
    </div>

    <form id = 'form'>
        <input type="text" placeholder="Имя" id = "user_name">
        <button id = 'order'> Действие формы </button>
    </form>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
 <script >
        // let tg = window.Telegram.WebApp;  
	// tg.onEvent('mainButtonClicked', function(){
        //	tg.sendData("some string that we need to send"); 
        	//при клике на основную кнопку отправляем данные в строковом виде
        //    });      
     
            let tg  = window.Telegram.WebApp;
            let buy = document.getElementById("buy");
            let order = document.getElementById("order");
            tg.expand();
            buy.addEventListener("click",()=> {
                document.getElementById("main").style.display = 'none';
                document.getElementById("form").style.display = 'block';
              
            });
     order.addEventListener("click",()=> {
          let name = document.getElementById("user_name").value;
         let data={name:name};
	 let date_temp = JSON.stringify(data);
         //tg.sendData(JSON.stringify(data));
         tg.sendData(JSON.stringify(data));
         tg.close();
     });
  
        </script>

</body>
</html>
